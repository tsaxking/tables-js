<!doctype html>
<html lang="en">

<head>
    <title>Tables.js</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script> -->
    <!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script> -->
    <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
    <header>
        <!-- place navbar here -->
    </header>
    <main>
        <script src="./tables.js"></script>
        <div class="container">

            <div class="table-responsive">
            <table>
            </table>
            </div>
        </div>

        <script>
            const data = new Array(100).fill().map((_, i) => ({
                id: i,
                name: `Name ${i}`,
                age: Math.floor(Math.random() * 100),
                food: [
                    'apple',
                    'banana',
                    'orange',
                    'pear',
                    'grape',
                    'pineapple'
                ][Math.floor(Math.random() * 6)],
                color: [
                    'red',
                    'orange',
                    'yellow',
                    'green',
                    'blue',
                    'indigo',
                    'violet'
                ][Math.floor(Math.random() * 7)],
                date: new Date(Date.now() - Math.floor(Math.random() * 10000000000)),
                bool: Math.random() > 0.5,
                bool2: Math.random() > 0.5,
                long: new Array(100).fill('AA').map((_, i) => i).join(', ')
            }));

            const table = document.querySelector('table');

            const headers = [{
                title: 'ID',
                getData: (row) => row.id,
                frozen: true
                // minimize: true
            }, {
                title: 'Name',
                getData: (row) => row.name,
                // minimize: true
            }, {
                title: 'Age',
                getData: (row) => row.age,
                // sort: (a, b) => a.data.age - b.data.age
            }, {
                title: 'Food',
                getData: (row) => row.food,
                // sort: (a, b) => a.data.food.localeCompare(b.data.food)
            }, {
                title: 'Color',
                getData: (row) => row.color,
                // sort: (a, b) => a.data.color.localeCompare(b.data.color)
            }, {
                title: 'Date',
                getData: (row) => row.date,
                // sort: (a, b) => a.data.date - b.data.date,
                // minimize: true
            }, {
                title: 'Bool1',
                getData: (row) => row.bool,
                // sort: (a, b) => a.data.bool - b.data.bool
            }, {
                title: 'Bool2',
                getData: (row) => row.bool2,
                // sort: true
            }, {
                title: 'Long',
                getData: (row) => {
                    const div = document.createElement('div');
                    div.innerHTML = row.long;
                    div.style.whiteSpace = 'nowrap';
                    return div;
                }
                // minimize: true
            }];

            const options = {
                classes: [
                    'table',
                    'table-striped',
                    'table-hover',
                    'table-bordered',
                    'table-dark'
                ],
                // reorder: {
                //     handle: `<i class="material-icons">drag_indicator</i>`,
                //     listeners: {
                //         onDragStart: (event) => {},
                //         onDragEnd: (event) => {},
                //         onDrop: (event) => {},
                //         onDrag: (event) => {},
                //         onDragEnter: (event) => {},
                //         onDragLeave: (event) => {}
                //     },
                //     tdClassChanges: {
                //         swap: ['bg-primary'],
                //         insert: ['bg-success'],
                //         dragging: ['bg-warning'],
                //         tempTr: ['bg-light']
                //     }
                // },
                fixedHeaders: true,
                // sort: {
                //     classes: ['text-info']
                // },
                // editable: {
                //     onChange: (event) => {},
                //     onCancel: (event) => {}
                // },
                tr: {
                    classes: ['bg-dark']
                },
                caption: 'Go fuck yourself'
            }

            const myTable = new Table(table, headers, data, options);
            // const myTable = new Table(table, headers, data, {
            //     datatable: {
            //         autofill: true
            //     },
            //     classes: [
            //         'table',
            //         'table-striped',
            //         'table-hover',
            //         'table-bordered',
            //         // 'table-dark'
            //     ]
            // });

            // const csv = `id,firstname,lastname,email,email2,profession
            //     100,Mallory,Seligman,Mallory.Seligman@yopmail.com,Mallory.Seligman@gmail.com,doctor
            //     101,Corene,Toor,Corene.Toor@yopmail.com,Corene.Toor@gmail.com,firefighter
            //     102,Orelia,Rillings,Orelia.Rillings@yopmail.com,Orelia.Rillings@gmail.com,doctor
            //     103,Cherilyn,Koziara,Cherilyn.Koziara@yopmail.com,Cherilyn.Koziara@gmail.com,developer
            //     104,Ada,Radu,Ada.Radu@yopmail.com,Ada.Radu@gmail.com,doctor
            //     105,Nannie,Uund,Nannie.Uund@yopmail.com,Nannie.Uund@gmail.com,firefighter
            //     106,Queenie,Sancho,Queenie.Sancho@yopmail.com,Queenie.Sancho@gmail.com,police officer
            //     107,Robbi,Neils,Robbi.Neils@yopmail.com,Robbi.Neils@gmail.com,doctor
            //     108,Hollie,O'Neill,Hollie.O'Neill@yopmail.com,Hollie.O'Neill@gmail.com,police officer
            //     109,Corina,Yerkovich,Corina.Yerkovich@yopmail.com,Corina.Yerkovich@gmail.com,developer`;

            // const myTable = Table.from(table, csv, options);
        </script>
    </main>
    <footer>
        <!-- place footer here -->
    </footer>
    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous">
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js" integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous">
    </script>
</body>

</html>